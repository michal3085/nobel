<div class="pricing-wrapper position-relative mt-8">
    <h3 class="display-3 pe-xl-10 pe-xxl-15">
        <span class="underline-3 style-2 violet">Cennik</span>
    </h3>
    <div class="shape bg-dot primary rellax w-16 h-18" data-rellax-speed="1" style="top: 2rem; right: -2.4rem;"></div>
    <div class="shape rounded-circle bg-line red rellax w-18 h-18 d-none d-lg-block" data-rellax-speed="1" style="bottom: 0.5rem; left: -2.5rem;"></div>
    <div class="row gy-6 mt-3 mt-md-5">
        <div class="col-md-6 col-lg-3">
            <div class="pricing card text-center">
                <div class="card-body">
                    <img src="./assets/img/icons/lineal/briefcase-2.svg" class="svg-inject icon-svg icon-svg-md text-primary mb-3" alt="" />
                    <h4 class="card-title">Adres Osobisty </h4>
                    <h6>Osoba Fizyczna</h6>
                    <div class="prices text-dark">
                        <div class="price price-show"><span class="price-currency">PLN</span><span class="price-value">100</span> <span class="price-duration">mc</span></div>
                        <div class="price price-hide price-hidden"><span class="price-currency">$</span><span class="price-value">499</span> <span class="price-duration">yr</span></div>
                    </div>
                    <ul class="icon-list bullet-bg bullet-soft-primary mt-7 mb-8 text-start">
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong>Adres rejestrowy</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong>Odbieranie korespondencji oraz przesyłek kurierskich</strong> </span></li>
                        <li><i class="uil uil-check"></i><span><strong>Informowanie mailem o odebranych przesyłakch</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Skanowanie </strong> </span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Nazwa firmy w holu </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Sala konferencyjna</strong> 60 zł/h</span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Indywidualny numer telefonu </strong></span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Zmiana adresu w KRS </strong></span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Wszystkie zmiany w KRS </strong></span></li>
                    </ul>
                    <a class="btn btn-soft-primary rounded-pill mt-1" data-info="1"
                       data-bs-toggle="modal" data-bs-target="#modal-virtual-office">Choose Plan</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-3 popular">
            <div class="pricing card text-center">
                <div class="card-body">
                    <img src="./assets/img/icons/lineal/home.svg" class="svg-inject icon-svg icon-svg-md text-primary mb-3" alt="" />
                    <h4 class="card-title">Prestiżowy Adres </h4>
                    <h6>Firma</h6>
                    <div class="prices text-dark">
                        <div class="price price-show"><span class="price-currency">PLN</span><span class="price-value">200</span> <span class="price-duration">mc</span></div>
                        <div class="price price-hide price-hidden"><span class="price-currency">$</span><span class="price-value">199</span> <span class="price-duration">yr</span></div>
                    </div>
                    <ul class="icon-list bullet-bg bullet-soft-primary mt-7 mb-8 text-start">
                        <li><i class="uil uil-check"></i><span><strong>Adres rejestrowy</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong>Odbieranie korespondencji oraz przesyłek kurierskich</strong> </span></li>
                        <li><i class="uil uil-check"></i><span><strong>Informowanie mailem o odebranych przesyłakch</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Skanowanie </strong> </span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Nazwa firmy w holu </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Sala konferencyjna</strong> 60 zł/h</span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Indywidualny numer telefonu </strong></span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Zmiana adresu w KRS </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Wszystkie zmiany w KRS </strong>- 0 PLN<sup>*</sup></span></li>
                    </ul>
                    <a class="btn btn-soft-primary rounded-pill mt-1" data-info="1"
                       data-bs-toggle="modal" data-bs-target="#modal-virtual-office">Choose Plan</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-3 popular">
            <div class="pricing card text-center">
                <div class="card-body">
                    <img src="./assets/img/icons/lineal/home.svg" class="svg-inject icon-svg icon-svg-md text-primary mb-3" alt="" />
                    <h4 class="card-title">Prestiżowy Adres Plus</h4>
                    <h6>Firma</h6>
                    <div class="prices text-dark">
                        <div class="price price-show"><span class="price-currency">PLN</span><span class="price-value">300</span> <span class="price-duration">mc</span></div>
                        <div class="price price-hide price-hidden"><span class="price-currency">$</span><span class="price-value">199</span> <span class="price-duration">yr</span></div>
                    </div>
                    <ul class="icon-list bullet-bg bullet-soft-primary mt-7 mb-8 text-start">
                        <li><i class="uil uil-check"></i><span><strong>Adres rejestrowy</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong>Odbieranie korespondencji oraz przesyłek kurierskich</strong> </span></li>
                        <li><i class="uil uil-check"></i><span><strong>Informowanie mailem o odebranych przesyłakch</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Skanowanie </strong> </span></li>
                        <li><i class="uil uil-check"></i><span><strong> Nazwa firmy w holu </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Sala konferencyjna</strong> <br>2 h/mc</span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Indywidualny numer telefonu </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Zmiana adresu w KRS </strong>- 0 PLN<sup>*</sup></span></li>
                        <li><i class="uil uil-times bullet-soft-red"></i><span><strong> Wszystkie zmiany w KRS </strong> -50%</span></li>
                    </ul>
                    <a class="btn btn-soft-primary rounded-pill mt-1" data-info="1"
                       data-bs-toggle="modal" data-bs-target="#modal-virtual-office">Choose Plan</a>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="pricing card text-center">
                <div class="card-body">
                    <img src="./assets/img/icons/lineal/briefcase-2.svg" class="svg-inject icon-svg icon-svg-md text-primary mb-3" alt="" />
                    <h4 class="card-title">Wirtualne biuro</h4>
                    <h6>Firma</h6>
                    <div class="prices text-dark">
                        <div class="price price-show"><span class="price-currency">PLN</span><span class="price-value">400</span> <span class="price-duration">mc</span></div>
                        <div class="price price-hide price-hidden"><span class="price-currency">$</span><span class="price-value">499</span> <span class="price-duration">yr</span></div>
                    </div>
                    <ul class="icon-list bullet-bg bullet-soft-primary mt-7 mb-8 text-start">
                        <li><i class="uil uil-check"></i><span><strong>Adres rejestrowy</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong>Odbieranie korespondencji oraz przesyłek kurierskich</strong> </span></li>
                        <li><i class="uil uil-check"></i><span><strong>Informowanie mailem o odebranych przesyłakch</strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Skanowanie </strong> </span></li>
                        <li><i class="uil uil-check"></i><span><strong> Nazwa firmy w holu </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Sala konferencyjna</strong> 4 h/mc</span></li>
                        <li><i class="uil uil-check"></i><span><strong> Indywidualny numer telefonu </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Zmiana adresu w KRS </strong></span></li>
                        <li><i class="uil uil-check"></i><span><strong> Wszystkie zmiany w KRS </strong> - 0 PLN <sup>**</sup></span></li>
                    </ul>
                    <a class="btn btn-soft-primary rounded-pill mt-1" data-info="1"
                       data-bs-toggle="modal" data-bs-target="#modal-virtual-office">Choose Plan</a>
                </div>
            </div>
        </div>
    </div>
</div>

@include('Services.modal._modal')
<script>
    document.querySelectorAll('[data-bs-toggle="modal"]').forEach(function (button) {
        button.addEventListener('click', function () {
            // Pobierz wartość data-info z klikniętego przycisku
            const info = this.getAttribute('data-info');

            // Pobierz element select
            const select = document.getElementById('nobel-vo-topic-id');

            // Ustaw wartość w zależności od data-info
            if (info === '1') {
                select.value = "ADRES OSOBISTY";
            } else if (info === '2') {
                select.value = "PRESTIŻOWY ADRES";
            } else if (info === '3') {
                select.value = "PRESTIŻOWY ADRES PLUS";
            }
        });
    });

    $(document).ready(function () {
        var $spinner = $('.spinner-border'); // Pobierz spinner raz, aby nie szukać go wielokrotnie

        $('#nobel-submit-button').click(function (e) {
            e.preventDefault();

            // Pokaż spinner
            $spinner.removeClass('d-none');

            $('#nobel-virtual-office-form-id').find("input").removeClass('is-invalid');
            $('#nobel-virtual-office-form-id').find("select").removeClass('is-invalid');
            $('#nobel-virtual-office-form-id').find("textarea").removeClass('is-invalid');

            $.ajax({
                url: "{{ route('service.send.mail') }}",
                method: "POST",
                dataType: 'json',
                data: $('#nobel-virtual-office-form-id').serialize(),
                success: function (data) {
                    // Ukryj spinner po zakończeniu
                    $spinner.addClass('d-none');

                    // Schowanie modala po sukcesie
                    $('#modal-virtual-office').modal('hide');
                    location.reload(); // Odśwież stronę
                },
                error: function (response) {
                    // Ukryj spinner w przypadku błędu
                    $spinner.addClass('d-none');

                    // Obsługa błędów walidacji
                    if (response.status === 422) {
                        var errors = response.responseJSON.errors;

                        // Dodanie klasy 'is-invalid' dla każdego błędnego pola
                        $.each(errors, function (key, value) {
                            var inputElement = $('[name="' + key + '"]');
                            inputElement.addClass('is-invalid');
                        });
                    }
                }
            });
        });
    });
</script>
